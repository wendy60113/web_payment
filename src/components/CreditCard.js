// import { useState } from "react";
import { useSpring, animated } from "@react-spring/web";

function CreditCard(props) {
  const {flipped} = props
  // const [flipped, set] = useState(false);
  const { transform, opacity } = useSpring({
    opacity: flipped ? 0 : 1,
    transform: `perspective(460px) rotateY(${flipped ? 180 : 0}deg)`,
    config: { mass: 5, tension: 500, friction: 80 }
  });
  return (
    <div >
      <animated.div className="CreditCard" style={{transform,opacity,position:'absolute'}}>
        <svg
          className="cardSvg"
          width={460}
          height={285}
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <rect width={460} height={285} rx={20} fill="#FF6767" />
          <mask
            id="prefix__a"
            style={{
              maskType: "alpha",
            }}
            maskUnits="userSpaceOnUse"
            x={0}
            y={0}
            width={460}
            height={285}
          >
            <rect width={460} height={285} rx={20} fill="#FF6767" />
          </mask>
          <g mask="url(#prefix__a)">
            <path
              d="M428.5 227.501c150-46-8.5 210.062-251.138 210.062C82.845 460.253-89.603 457.292-115 351.5-140.397 245.709-155.368 82.208 73.5 100c141.5 11 205 173.5 355 127.501z"
              fill="#FF7474"
            />
            <path
              d="M246 327.279C246 416.351 162.042 455 40.815 455-80.41 455-193 416.351-193 327.279S-94.727 166 26.5 166 246 238.207 246 327.279z"
              fill="#FF8383"
            />
            <path
              d="M161.383-4.181c-56.624-92.901 35.329-177.657 118.329-228.246s184.655-57.263 241.279 35.639c56.623 92.901 35.241 209.222-47.759 259.811-83 50.589-255.226 25.697-311.849-67.204z"
              fill="#FF5A5A"
            />
            <path
              d="M413.613 28.901a14.601 14.601 0 00-5.15-.9c-5.68 0-9.691 2.892-9.719 7.044-.035 3.05 2.85 4.77 5.033 5.79 2.24 1.047 2.989 1.707 2.982 2.644-.014 1.425-1.789 2.07-3.44 2.07-2.268 0-3.507-.319-5.413-1.119l-.706-.334-.806 4.78c1.381.582 3.869 1.08 6.439 1.124 6.038 0 9.985-2.875 10.031-7.292.05-2.437-1.512-4.279-4.799-5.8-1.998-.987-3.237-1.647-3.237-2.649 0-.886 1.061-1.834 3.28-1.834a10.372 10.372 0 014.305.822l.533.24.805-4.618-.138.032zm14.737-.513h-4.437c-1.38 0-2.42.384-3.024 1.77l-8.533 19.544h6.038l1.207-3.205 7.368.008c.174.75.707 3.197.707 3.197H433l-4.65-21.314zm-37.773-.18h5.753l-3.599 21.325h-5.746l3.592-21.332v.008zm-14.606 11.754l.596 2.96 5.622-14.534h6.095l-9.055 21.285h-6.08L368.18 31.65a1.22 1.22 0 00-.529-.714A24.492 24.492 0 00362 28.822l.078-.448h9.261c1.256.05 2.268.448 2.605 1.805l2.023 9.794.004-.011zm45.28 2.175l2.293-5.965c-.028.065.472-1.23.763-2.031l.394 1.841 1.331 6.151h-4.784l.003.004z"
              fill="#fff"
            />
            <path
              fillRule="evenodd"
              clipRule="evenodd"
              d="M40 28a5 5 0 00-5 5v44a5 5 0 005 5h12.746V69.07H35v-2.535h17.746V55.127H35v-2.535h17.746V41.183H35v-2.535h17.746V28H40zm15.282 54h14.704V28H55.282v54zm17.24-12.93V82H84a5 5 0 005-5v-7.93H72.521zM89 66.535V55.127H72.521v11.408H89zm0-13.943V33a5 5 0 00-5-5H72.521v24.592H89z"
              fill="#FFD439"
              style={{
                mixBlendMode: "hard-light",
              }}
            />
          </g>
        </svg>
        <div className="content content_flexend">
          <div className="number">
            <span>{props.numbers.num1}</span>
            <span>{props.numbers.num2}</span>
            <span>{props.numbers.num3}</span>
            <span>{props.numbers.num4}</span>
          </div>
          <div className="nameAndMonth">
            <div className="name">
              <span>{props.CHName}</span>
            </div>
            <div className="month">
              <span>{props.Month}/{props.Year}</span>
            </div>
          </div>
        </div>
      </animated.div>
      {/*背面*/}
      <animated.div className="CreditCard" style={{transform,opacity: opacity.to(o => 1 - o),rotateY: '180deg'}}>
        <svg
          className="cardSvg"
          width={460}
          height={285}
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <rect width={460} height={285} rx={20} fill="#FF6767" />
          <mask
            id="prefix__a"
            style={{
              maskType: "alpha",
            }}
            maskUnits="userSpaceOnUse"
            x={0}
            y={0}
            width={460}
            height={285}
          >
            <rect width={460} height={285} rx={20} fill="#FF6767" />
          </mask>
          <g mask="url(#prefix__a)">
            <path
              d="M428.5 227.501c150-46-8.5 210.062-251.138 210.062C82.845 460.253-89.603 457.292-115 351.5-140.397 245.709-155.368 82.208 73.5 100c141.5 11 205 173.5 355 127.501z"
              fill="#FF7474"
            />
            <path
              d="M246 327.279C246 416.351 162.042 455 40.815 455-80.41 455-193 416.351-193 327.279S-94.727 166 26.5 166 246 238.207 246 327.279z"
              fill="#FF8383"
            />
            <path
              d="M166.383-14.181c-56.624-92.901 35.329-177.657 118.329-228.246s184.655-57.263 241.279 35.639c56.623 92.901 35.241 209.222-47.759 259.811-83 50.589-255.226 25.697-311.849-67.204z"
              fill="#FF5A5A"
            />
          </g>
          <path
            d="M28.248 124.437c0-.206-.032-.388-.096-.547a1.064 1.064 0 00-.32-.438 2.655 2.655 0 00-.657-.383 8.802 8.802 0 00-1.067-.389 11.794 11.794 0 01-1.312-.486 4.983 4.983 0 01-1.04-.629 2.683 2.683 0 01-.69-.827 2.312 2.312 0 01-.246-1.087c0-.405.085-.774.253-1.107.173-.333.417-.62.732-.861a3.499 3.499 0 011.128-.568 4.773 4.773 0 011.435-.205c.738 0 1.374.137 1.907.41.538.274.95.641 1.238 1.101.291.46.437.968.437 1.524h-1.702c0-.328-.07-.617-.212-.868a1.432 1.432 0 00-.629-.601c-.278-.146-.631-.219-1.06-.219-.405 0-.742.061-1.011.184-.269.123-.47.29-.602.499-.132.21-.198.447-.198.711 0 .187.043.358.13.513.087.15.219.292.396.424.178.127.401.248.67.362.27.114.586.224.95.328a9.458 9.458 0 011.443.547c.41.196.752.419 1.025.67.274.251.479.536.616.855.136.314.205.672.205 1.073 0 .419-.085.797-.253 1.135-.169.332-.41.617-.725.854-.31.233-.683.413-1.12.54a5.298 5.298 0 01-1.45.185c-.479 0-.95-.064-1.415-.192a4.154 4.154 0 01-1.258-.581 2.997 2.997 0 01-.902-.984c-.224-.397-.335-.859-.335-1.388h1.715c0 .324.055.599.165.827.113.228.27.415.471.561.2.141.433.246.697.314.27.069.556.103.862.103.4 0 .736-.057 1.005-.171a1.32 1.32 0 00.615-.479 1.25 1.25 0 00.205-.71zm5.072-7.39V127h-1.715v-9.953h1.715zm9.776 4.867v3.801c-.142.187-.363.392-.663.615-.297.219-.69.408-1.183.567-.492.16-1.105.24-1.839.24a4.538 4.538 0 01-1.716-.315 3.757 3.757 0 01-1.346-.936 4.284 4.284 0 01-.868-1.497c-.206-.593-.308-1.267-.308-2.024v-.69c0-.752.093-1.422.28-2.01.191-.592.465-1.094.82-1.504.356-.41.784-.72 1.286-.93.506-.214 1.077-.321 1.715-.321.816 0 1.49.137 2.024.41a2.98 2.98 0 011.244 1.121 4.1 4.1 0 01.554 1.641h-1.682a2.654 2.654 0 00-.321-.93 1.63 1.63 0 00-.67-.642c-.287-.16-.661-.239-1.121-.239-.397 0-.745.075-1.046.225-.3.15-.552.372-.752.663a3.252 3.252 0 00-.444 1.067c-.1.419-.15.897-.15 1.435v.704c0 .547.056 1.032.17 1.456.119.424.287.782.506 1.074.223.291.494.512.813.663.32.145.68.218 1.08.218.392 0 .714-.032.964-.095.251-.069.45-.148.595-.24a1.81 1.81 0 00.349-.273v-1.976h-2.072v-1.278h3.78zm9.796-4.867V127h-1.716l-4.464-7.13V127h-1.716v-9.953h1.716l4.477 7.143v-7.143h1.703zm6.043 1.326L55.96 127h-1.798l3.746-9.953h1.149l-.123 1.326zM61.423 127l-2.98-8.627-.13-1.326h1.155l3.76 9.953h-1.805zm-.144-3.691v1.36h-5.414v-1.36h5.414zm6.296-6.262V127h-1.702v-9.953h1.702zm3.124 0v1.367h-7.923v-1.367H70.7zm6.898 0h1.709v6.651c0 .757-.164 1.39-.492 1.901-.329.51-.775.895-1.34 1.155-.56.255-1.188.383-1.88.383-.716 0-1.354-.128-1.914-.383a3.06 3.06 0 01-1.327-1.155c-.319-.511-.478-1.144-.478-1.901v-6.651h1.709v6.651c0 .479.082.873.246 1.183.164.305.397.531.697.677.301.145.657.218 1.067.218.41 0 .763-.073 1.06-.218.3-.146.532-.372.697-.677.164-.31.246-.704.246-1.183v-6.651zm3.575 0h3.52c.757 0 1.402.114 1.935.342.533.228.941.565 1.224 1.011.287.442.43.989.43 1.641 0 .497-.09.934-.273 1.313-.182.378-.44.697-.773.957-.332.255-.729.453-1.19.594l-.519.253h-3.165l-.013-1.36h2.372c.41 0 .752-.073 1.025-.219.274-.146.479-.344.615-.595.142-.255.212-.542.212-.861 0-.346-.068-.647-.205-.902a1.322 1.322 0 00-.615-.595c-.278-.141-.631-.212-1.06-.212h-1.804V127h-1.716v-9.953zm5.68 9.953l-2.337-4.471 1.797-.007 2.373 4.389V127h-1.832zm9.653-1.36V127H91.22v-1.36h5.284zm-4.799-8.593V127H89.99v-9.953h1.716zm4.108 4.156v1.34h-4.593v-1.34h4.593zm.657-4.156v1.367h-5.25v-1.367h5.25zM330.891 123.76h1.709a3.947 3.947 0 01-.547 1.743c-.31.506-.745.905-1.306 1.196-.56.292-1.242.438-2.044.438a4.06 4.06 0 01-1.661-.328 3.65 3.65 0 01-1.265-.944 4.263 4.263 0 01-.806-1.483c-.183-.579-.274-1.226-.274-1.942v-.827c0-.715.094-1.362.281-1.941a4.285 4.285 0 01.82-1.484 3.55 3.55 0 011.278-.95 4.192 4.192 0 011.689-.328c.793 0 1.463.146 2.009.438.547.291.971.695 1.272 1.21.305.515.492 1.105.56 1.77h-1.709a3.144 3.144 0 00-.3-1.1 1.555 1.555 0 00-.67-.698c-.296-.164-.684-.246-1.162-.246-.392 0-.734.073-1.026.219-.291.146-.535.36-.731.643a3.108 3.108 0 00-.445 1.045c-.095.411-.143.88-.143 1.409v.84c0 .502.043.957.13 1.368.091.405.228.754.41 1.046.187.291.424.517.711.676.287.16.631.24 1.032.24.488 0 .882-.078 1.183-.233.305-.155.535-.38.69-.677.16-.3.264-.667.315-1.1zm6.678 1.422l2.619-8.135h1.893L338.513 127h-1.279l.335-1.818zm-2.42-8.135l2.598 8.135.356 1.818h-1.286l-3.554-9.953h1.886zm13.83 6.713h1.709a3.947 3.947 0 01-.547 1.743c-.31.506-.745.905-1.306 1.196-.561.292-1.242.438-2.044.438a4.06 4.06 0 01-1.661-.328 3.65 3.65 0 01-1.265-.944 4.246 4.246 0 01-.806-1.483c-.183-.579-.274-1.226-.274-1.942v-.827c0-.715.094-1.362.28-1.941a4.303 4.303 0 01.821-1.484 3.55 3.55 0 011.278-.95 4.192 4.192 0 011.689-.328c.793 0 1.462.146 2.009.438.547.291.971.695 1.272 1.21.305.515.492 1.105.56 1.77h-1.709a3.144 3.144 0 00-.3-1.1 1.555 1.555 0 00-.67-.698c-.297-.164-.684-.246-1.162-.246-.392 0-.734.073-1.026.219a1.93 1.93 0 00-.731.643 3.108 3.108 0 00-.445 1.045c-.095.411-.143.88-.143 1.409v.84c0 .502.043.957.13 1.368.091.405.228.754.41 1.046.187.291.424.517.711.676.287.16.631.24 1.032.24.488 0 .882-.078 1.183-.233.305-.155.535-.38.69-.677.16-.3.264-.667.315-1.1z"
            fill="#fff"
          />
          <path fill="#343333" d="M0 42h460v48H0z" />
          <path fill="#F3EFEF" d="M22 132h283v58H22z" />
        </svg>
        <div className="content content_flexcenter">
          <div className="cvc">
            <span>{props.CVC}</span>
          </div>
        </div>
      </animated.div>
    </div>
  );
}
export default CreditCard;
